{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=local.db"
  },
  "ChainConfig": {
    "ChainId": "1",
    "Name": "Ethereum",
    "RpcUrl": "rpc.ankr.com/eth",
    "RpcPort": 443,
    "BlockTime": 15,
    "ConfirmationBlocks": 12
  },
  "Monitoring": {
    "PollingInterval": 120000,
    "BlocksToProcess": 5,
    "BatchSize": 1,
    "RetryDelay": 30000,
    "MaxRetries": 5,
    "RequestDelay": 10000
  },
  "Caching": {
    "Enabled": true,
    "PoolExpirationSeconds": 300,
    "TokenExpirationSeconds": 600
  },
  "Outbox": {
    "Enabled": true,
    "ProcessingIntervalSeconds": 10,
    "BatchSize": 20,
    "MaxRetries": 3
  },
  "Telemetry": {
    "Enabled": true,
    "ServiceName": "AnalyzerCore",
    "ServiceVersion": "1.0.0",
    "PrometheusEnabled": true,
    "PrometheusEndpoint": "/metrics",
    "HttpClientInstrumentation": true,
    "AspNetCoreInstrumentation": true,
    "TracingEnabled": true,
    "JaegerEnabled": true,
    "JaegerAgentHost": "localhost",
    "JaegerAgentPort": 6831,
    "TracingSamplingRatio": 1.0,
    "EntityFrameworkInstrumentation": true,
    "EfCoreSetDbStatementForText": false,
    "EnrichWithException": true,
    "RecordException": true
  },
  "RateLimit": {
    "Enabled": true,
    "MaxRequestsPerWindow": 100,
    "WindowSeconds": 1,
    "MaxConcurrentRequests": 10,
    "AcquireTimeoutMs": 5000,
    "QueueExcessRequests": true,
    "MaxQueueLength": 100
  },
  "Cleanup": {
    "Enabled": true,
    "IntervalMinutes": 60,
    "OutboxRetentionDays": 7,
    "IdempotencyRetentionDays": 7,
    "BatchSize": 1000,
    "DeleteFailedMessages": true
  },
  "ArbitrageScanner": {
    "Enabled": true,
    "ScanIntervalMs": 30000,
    "MinProfitUsd": 10,
    "LargeOpportunityThresholdUsd": 100,
    "MinConfidenceScore": 60,
    "ErrorRetryDelayMs": 5000,
    "EnableTriangularScan": true,
    "TriangularBaseToken": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "MaxCachedOpportunities": 10000
  },
  "WebSocketRateLimit": {
    "Enabled": true,
    "MaxMessagesPerWindow": 100,
    "WindowSeconds": 60,
    "MaxConnectionsPerIp": 5,
    "MaxSubscriptionsPerConnection": 50,
    "CooldownSeconds": 30,
    "DisconnectOnRepeatedViolations": true,
    "ViolationsBeforeDisconnect": 3
  },
  "Redis": {
    "Enabled": false,
    "ConnectionString": "localhost:6379",
    "InstanceName": "AnalyzerCore:",
    "DefaultExpirationSeconds": 300,
    "ConnectTimeoutMs": 5000,
    "SyncTimeoutMs": 5000,
    "AbortOnConnectFail": false,
    "Ssl": false,
    "Password": null,
    "RetryCount": 3,
    "RetryBaseDelayMs": 500
  },
  "Logging": {
    "SeqEnabled": false,
    "SeqServerUrl": "http://localhost:5341",
    "SeqApiKey": null,
    "MinimumLevel": "Information",
    "EnrichWithMachineName": true,
    "EnrichWithEnvironmentName": true,
    "EnrichWithProcessId": true,
    "EnrichWithThreadId": true,
    "EnrichWithExceptionDetails": true,
    "ApplicationName": "AnalyzerCore",
    "ApplicationVersion": "1.0.0",
    "SensitiveProperties": [
      "Password",
      "Secret",
      "Token",
      "ApiKey",
      "Authorization",
      "Credential",
      "PrivateKey",
      "ConnectionString"
    ],
    "LevelOverrides": {
      "Microsoft": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.AspNetCore": "Warning",
      "System.Net.Http": "Warning",
      "AnalyzerCore.Infrastructure.BackgroundServices": "Debug"
    },
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "AnalyzerCore.Infrastructure.BackgroundServices": "Debug"
    }
  }
}